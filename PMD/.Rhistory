#__Step 1_______setup and create templates
library(EMLasseblyline)
#__Step 1_______setup and create templates
install.packages("EMLasseblyline")
setwd("C:/Users/cdodge/Desktop/GIT/W/PMD")
obs <- read.csv("miniDiskObservations.csv")
#__Step 2_______Crunch basic stats about the survey observations
#how many surveys are in the DB?
length(unique(obs$survey_id))
#get number observations per survey
totals <- data.frame(unique(obs$survey_id))
totals$countObs <- table(obs$survey_id)
head(totals)
#Get delta Volume and integrate
#Get cummulative infiltration per survey and merge with number observations
maxVolume <- aggregate(volume ~ survey_id, obs, max)
minVolume <- aggregate(volume ~ survey_id, obs, min)
head(maxVolume)
#calculate delta Volume
vols <- merge(maxVolume, minVolume, by.x="survey_id", by.y="survey_id")
vols$deltaVolume <- vols$volume.x - vols$volume.y
head(vols)
#remove 'start and end volumes (x,y) column
keep <- c("survey_id", "deltaVolume")
delta <- vols[keep]
#merge delta volume and count of observations
summary <- merge(delta, totals, by.x ="survey_id", by.y = "unique.obs.survey_id.")
head(summary)
#get survey length and merge to get full summary of surveys
surveyLength <- aggregate(time ~survey_id, obs, max)
head(surveyLength)
surveyLength$minutes <- surveyLength$time/60
#remove 'time' column that's in seconds
keep <- c("survey_id", "minutes")
minutes <- surveyLength[keep]
head(minutes)
#merge with the other survey sumary data
fullSummary <- merge(minutes, summary, by.x="survey_id", by.y="survey_id")
head(fullSummary)
#Write the data as a summary file
write.csv(fullSummary, file = "surveySummaryTable.csv")
#__Step 1_______Read in the data and look at it
rm(list=ls())
obs <- read.csv("miniDiskObservations.csv")
head(obs)
#__Step 2_______Crunch basic stats about the survey observations
#how many surveys are in the DB?
length(unique(obs$survey_id))
#get number observations per survey
totals <- data.frame(unique(obs$survey_id))
totals$countObs <- table(obs$survey_id)
head(totals)
#Get delta Volume and integrate
#Get cummulative infiltration per survey and merge with number observations
maxVolume <- aggregate(volume ~ survey_id, obs, max)
minVolume <- aggregate(volume ~ survey_id, obs, min)
head(maxVolume)
#calculate delta Volume
vols <- merge(maxVolume, minVolume, by.x="survey_id", by.y="survey_id")
vols$deltaVolume <- vols$volume.x - vols$volume.y
head(vols)
#remove 'start and end volumes (x,y) column
keep <- c("survey_id", "deltaVolume")
delta <- vols[keep]
#merge delta volume and count of observations
summary <- merge(delta, totals, by.x ="survey_id", by.y = "unique.obs.survey_id.")
head(summary)
#get survey length and merge to get full summary of surveys
surveyLength <- aggregate(time ~survey_id, obs, max)
head(surveyLength)
surveyLength$minutes <- surveyLength$time/60
#remove 'time' column that's in seconds
keep <- c("survey_id", "minutes")
minutes <- surveyLength[keep]
head(minutes)
#merge with the other survey sumary data
fullSummary <- merge(minutes, summary, by.x="survey_id", by.y="survey_id")
head(fullSummary)
#Write the data as a summary file
write.csv(fullSummary, file = "surveySummaryTable2.csv")
surveys <- read.csv("surveys.csv")
rm(list=ls())
surveys <- read.csv("surveys.csv")
head(surveys)
head(surveys)
library(ggplot)
install.packages("ggplot")
install.packages("ggplot2")
obs <- read.csv("miniDiskObservations.csv")
head(obs)
plotData <- obs[which(obs$survey_id =='PMD_04_18-02-21')]
plotData <- obs[which(obs$survey_id =='PMD_04_18-02-21'),]
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')
library("ggplot2")
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')
ggplot()+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')
ggplot()+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')+
ggplot()+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_line(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'blue')+
ggtitle("Test Plot PMD 04")
head(obs)
print(obs)
plotData2 <- obs[which(obs$survey_id =='PMDHAR01_01_18-03-07'),]
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_point(aes(x = plotData2$squarerootTime, y = plotData2$infiltration),
color = 'blue')+
ggtitle("Test Plot")
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_point(aes(x = plotData2$squarerootTime, y = plotData2$infiltration),
color = 'blue')+
ggtitle("Test Plot")+
xlab('Square Root of Time (seconds)')+
ylab('Cummulative Infiltration')
plotData <- obs[which(obs$survey_id =='PMDHAR01_01_18-03-07'),]
plotData2 <- obs[which(obs$survey_id =='HAR01_01_15-11-17'),]
ggplot()+
geom_point(aes(x = plotData$squarerootTime, y = plotData$infiltration),
color = 'black')+
geom_point(aes(x = plotData2$squarerootTime, y = plotData2$infiltration),
color = 'blue')+
ggtitle("Test Plot HAR01_01")+
xlab('Square Root of Time (Seconds)')+
ylab('Cummulative Infiltration')
